@model UserDashboardModel
@{
    ViewBag.Title = "Dashboard";
    ViewBag.PageHeader = "Dashboard";
    ViewBag.PageHeaderSmall = "Overview of your data";
}
@if (!Model.IsNewUser)
{
    <div ng-app="app-dashboard">
        <section class="content">
            @Html.Partial("UserDashboardPartialTop", Model)
            @if (Model.HaveSomeData)
            {
                @Html.Partial("UserDashboardPartialMiddle", Model)
            }
            else
            {
                <div class="row">
                    <div class="col-md-12">
                        <div class="callout callout-info">
                            <h4>Hello there,</h4>
                            <p>You have added locations and some products into your account but your account doesn't have any data to display.</p>
                            <p>User your weighing machine to add some data to your account</p>
                            <p>For any query <a href="/contact">Contact Us</a></p>
                        </div>
                    </div>
                </div>
                <div class="row" id="locations">
                    <div class="col-md-12">
                        <div class="box box-primary">
                            <div class="box-header with-border">
                                <h3 class="box-title">Farm Locations</h3>
                            </div>
                            <div class="box-body">
                                @if (Model.UserLocations != null)
                                {
                                    foreach (var location in Model.UserLocations)
                                    {
                                        <div style="margin-bottom:10px;">
                                            <P style="margin:0"><b>Farm Name:</b> @location.Name</P>
                                            <P style="margin:0"><b>Address:</b> @location.Address</P>
                                            <div style="overflow-x:auto">
                                                <span><b>Pin No:</b> @location.PinNo, </span>
                                                <span><b>State:</b> @location.State, </span>
                                                <span><b>Country:</b> @location.Country, </span>
                                            </div>
                                        </div>
                                    }
                                }
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" id="products">
                    <div class="col-md-12">
                        <div class="box box-primary">
                            <div class="box-header with-border">
                                <h3 class="box-title">
                                    Products Into Account
                                </h3>
                            </div>
                            <div class="box-body">
                                @Model.ProductsIntoAccount
                            </div>
                        </div>
                    </div>
                </div>
            }

        </section>
    </div>
    @section scripts{
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
        <script src="~/distribution/js/dashboardScript.js"></script>
        @*<script src="~/js/dashboardScript.js"></script>*@
        <script>var username = "@Model.UserName.ToString()"; user_dashboard(username);</script>
    }
}
else
{
    <section class="content">
        <div class="row">
            <div class="col-md-12">
                <div class="callout callout-info">
                    <h4>Hello there,</h4>
                    <p>Looks like you are a new user.</p>
                    <p>Go to <a href="/AddNewLocation">Add New Location</a> to add a new locations</p>
                    <p>Go to <a href="/AddNewProduct">Add New Product</a> to add a new product</p>
                    <p>All the other functions will be available once you complete two steps mentioned above.</p>
                </div>
            </div>
        </div>
    </section>
}